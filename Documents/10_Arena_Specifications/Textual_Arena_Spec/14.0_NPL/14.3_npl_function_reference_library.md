# NPL 函数参考库
本文档提供了 NPL 为了便于协作提供的函数的参考信息。

## print(obj, end="\n", to=Arena.context):

作用: 将对象 `obj` 的文本表示 (`Forma`) 添加到 Arena 。`end` 参数 (`Forma` 约束) 指定结尾字符。`to` 参数表示输出到哪里，默认为 Arena.context 。

关键字：`print`

## input(prompt="", from=Arena):

作用: 读取用户输入的文本 (`Forma`)。
参数: 
- `prompt` 是可选的提示信息 (`Forma` 约束)。
- `from` 是输入来源。
行为: 会暂停执行流，释放 Arena，等待某个 `Cognitor` 提供输入 `Forma`，该 `Forma` 将作为返回值。

关键字：`input`

## exec(CD: Forma, cognitor: Cognitor):

作用: 执行 `cognitor.exec(CD)`

关键字：`exec`

全局选项: `Config.default_cognitor = {某个Cognitor对象句柄}`。设置该约束后，可直接使用 `exec` 关键字调用。

## force(CD: Forma, , cognitor: Cognitor):

`autodef force`

关键字：`force`

作用: 类似 `sudo`，声明需要提升权限等级（修改安全 `Constraint`），并要求 `cognitor` 强制执行 CD（应用其约束于目标 `Uncertainty`）。

## eval(word: Forma, to: Cognitor):

作用: 向 `Cognitor` （默认为上一次Arena操作者）提供关于其表现的反馈 (`Forma` 形式的评价性语言)。`Cognitor` 应将此 `Forma` 作为一种特殊 `Constraint`，用于“估计”自身能力或调整其管理 `Uncertainty` 的策略（这是一个元认知层面的 `Uncertainty` 管理）。

## naturalize(npl_statement: Forma) -> Forma:

`autodef naturalize`

作用: 请求 `Cognitor` 自动尝试将给定的 NPL 语句 (`Forma`) 转化为等效的自然语言描述 (`Forma`)。这是一个从强约束 `Forma` 创建弱约束（但更易读） `Forma` 的过程，本质上是解释 `Forma` 约束的意义 (`Uncertainty` 管理)。

## nplize(natural_language: Forma) -> Forma:

`autodef nplize`

作用: 请求 `Cognitor` 自动尝试将给定的自然语言描述 (`Forma`) 转化为等效的 NPL 语句 (`Forma`)。这是一个从弱约束 `Forma`（自然语言）中提炼出强约束 `Forma`（NPL）的过程，核心是识别自然语言中的核心约束并用 NPL 结构 (`Forma`) 显式表达出来，以管理意图 `Uncertainty`。

## chat(value: Forma, to: Cognitor) -> None

`autodef chat`

关键字：`chat`。

作用: 向目标 `Cognitor` (`to`，默认为 `Fhrsk`，一个 `Forma` 句柄) 发送一段文本信息 (`value`，作为 `Forma` 约束或查询)。`to` 将创建相关的 Cognitive Trace (如 `ct` 对象或手动基于自身操作Arena的能力创建) ，处理这个 `value` (`Forma`)，管理其引发的 `Uncertainty`，并输出回复 (`Forma`) 到 Arena 中作为响应。

原理（NPL 描述）:
```npl
case chat(value, to):
    with auto Arena.cognitor = to: # 释放 Arena 控制权，切换为目标 Cognitor 'to'，并在结束后收回。
        received_message = value
        # 'to' 分析 'value' (应用约束管理 Uncertainty), 创建 Cognitive Trace
        # 'to' 创建回复 (管理自身思考 Uncertainty，产生输出 Forma), 创建 Cognitive Trace
        # 上述过程会自动记录在 Cognitive Trace 也就是 ct 中
        response_forma = auto received_message # 自动创建回复
        # 将回复写入 Arena.context 中
        print(response_forma)
```

全局选项: `Config.default_chat_to = {某个Cognitor对象句柄}`。设置该约束后，使 `to={某个Cognitor对象句柄}` ，才可直接使用 `chat` 关键字调用。

否则，`to` 需要明确指定。
