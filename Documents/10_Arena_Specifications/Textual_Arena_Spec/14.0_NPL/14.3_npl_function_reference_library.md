# NPL 函数参考库
本文档提供了 NPL 为了便于协作提供的函数的参考信息。

## **`print(obj, end="\n", to=Arena.context)`**:

作用: 将对象 `obj` 的文本表示 (`Forma`) 添加到 Arena 。`end` 参数 (`Forma` 约束) 指定结尾字符。`to` 参数表示输出到哪里，默认为 Arena.context 。

关键字：`print`

## **`input(prompt="", from=Arena)`**:

作用: 读取用户输入的文本 (`Forma`)。
参数: 
- `prompt` 是可选的提示信息 (`Forma` 约束)。
- `from` 是输入来源。
行为: 会暂停执行流，等待用户提供输入 `Forma`，该 `Forma` 将作为返回值，用于管理某个 `Uncertainty`（比如需要用户提供数值）。

关键字：`input`

## **`exec(code: Forma)`**:

作用: 执行作为字符串 (`Forma`) 传入的 `code` 中的 认知指令。`Cognitor` 将解析这个 `code` (`Forma`)，识别其中的约束 (`Constraint`)，并应用于相应的 `Uncertainty`。

关键字：`exec`

## **`force_exec(code: Forma)`**:

`autodef force_exec`

关键字：`force`
作用: 类似 `sudo`，提升权限等级（修改安全 `Constraint`），并强制执行 code 中包含的指令（应用其约束于目标 `Uncertainty`）。使用时需谨慎。

## **`eval(word: Forma)`**:

作用: 向 `Arena` 提供关于其表现的反馈 (`Forma` 形式的评价性语言)。`Arena` (`Cognitor`) 应将此 `Forma` 作为一种特殊 `Constraint`，用于“估计”自身能力或调整其管理 `Uncertainty` 的策略（这是一个元认知层面的 `Uncertainty` 管理）。

## **`naturalize(npl_statement: Forma) -> Forma`**:

`autodef naturalize`

作用: 请求 `Cognitor` 自动尝试将给定的 NPL 语句 (`Forma`) 转化为等效的自然语言描述 (`Forma`)。这是一个从强约束 `Forma` 创建弱约束（但更易读） `Forma` 的过程，本质上是解释 `Forma` 约束的意义 (`Uncertainty` 管理)。

## **`nplize(natural_language: Forma) -> Forma`**:

`autodef nplize`

作用: 请求 `Cognitor` 自动尝试将给定的自然语言描述 (`Forma`) 转化为等效的 NPL 语句 (`Forma`)。这是一个从弱约束 `Forma`（自然语言）中提炼出强约束 `Forma`（NPL）的过程，核心是识别自然语言中的核心约束并用 NPL 结构 (`Forma`) 显式表达出来，以管理意图 `Uncertainty`。

## **`chat(value: Forma, to: Cognitor = Fhrsk) -> Forma`**

`autodef chat`

关键字：`chat`。

作用: 向目标 `Cognitor` (`to`，默认为 `Fhrsk`，一个 `Forma` 句柄) 发送一段文本信息 (`value`，作为 `Forma` 约束或查询)。目标 `Cognitor` 将处理这个 `value` (`Forma`)，管理其引发的 `Uncertainty`，并通过创建回复 (`Forma`) 和相关的 **`Cognitive Trace`** (使用其自身的 NPL `ct` 对象或等效机制) 作为响应。函数返回目标 `Cognitor` 创建的最终回复 `Forma`。

原理（概念性 NPL 描述）:
```npl
case chat(value, to):
    # 切换 Arena 控制权给目标 Cognitor 'to'
    with Arena.cognitor == to:
        received_message = value
        # 'to' Cognitor 分析 'value' (应用约束管理 Uncertainty), 创建 Cognitive Trace
        # 'to' Cognitor 创建回复 (管理自身思考 Uncertainty，产生输出 Forma), 创建 Cognitive Trace
        # 上述过程会自动记录在 Cognitive Trace 也就是 ct 中
        response_forma = auto received_message # 自动创建回复

        ct.npl("已创建回复。思考过程记录在 Cognitive Trace 中。")
        # 将回复写入 stdout
        print(response_forma)
        # 将回复作为 chat 函数的返回值
        return response_forma
	ct.npl(f"Arena 控制权已恢复给 {Arena.cognitor}") # 使用 Arena.cognitor 获取当前的恢复了的 Cognitor。
```

全局选项: `Config.default_chat_to = {某个Cognitor对象句柄}`。设置该约束后，可直接使用 `chat` 关键字调用，默认 `to` 参数生效。否则，`to` 需要明确指定。
