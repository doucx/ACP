# NPL 内置“对象”：全局上下文与配置引导句柄

**重要前提**: 本文档描述的“对象”（如 `Doc`, `Config`, `cts` 等）在 NPL 中**不是**运行时实例化的对象。它们是预定义的、全局可用的 **`Datum` 句柄**，作为**访问特定全局信息、配置或上下文状态的入口点**，用于**认知引导**的目的。对这些句柄的操作（如属性访问或方法调用）是对 `Cognitor` 发出的、关于如何与这些全局概念交互的结构化**指导**。

## 1. `Doc`: 指向 ACP 文档集合的句柄

* **类型**: `Datum` (特殊类型，代表文档集合)
* **作用**: 提供一个 NPL 指导中的入口点，用于**请求 `Cognitor` 访问和处理当前的 ACP 协议文档内容**。
* **认知引导模式 (概念性)**:
    * **`Doc["文档路径/名称"]` (索引访问)**: 指导 `Cognitor` 定位并返回指向特定文档内容的 `Datum` 句柄。例如 `Doc["00_Core_Protocol/01_introduction_and_core_protocol.md"]`。
    * **`Doc.search("关键词")`**: 指导 `Cognitor` 在所有 ACP 文档中搜索包含“关键词”的内容，并返回一个包含相关文档片段或引用的 `Datum` 句柄（可能是列表）。这请求 `Cognitor` 运用其信息检索和关联能力。

## 2. `Config`: 指导 Space 配置的句柄

* **类型**: `Datum` (特殊类型，代表配置状态)
* **作用**: 提供一个 NPL 指导中的入口点，用于**查询或指导 `Cognitor` 调整其处理当前 `Space` 交互时所遵循的配置选项或行为约束**。
* **认知引导模式**:
    * **`Config.属性名` (属性访问)**: 指导 `Cognitor` 返回当前关于“属性名”这个配置项的值（作为一个 `Datum`）。例如 `Config.语法严格性` 请求获取当前的严格性设置。
    * **`Config.属性名 = 值` (赋值指导)**: **指导 `Cognitor` 从此刻起，在处理后续交互时，采用新的“属性名”配置约束**。例如 `Config.语法严格性 = "high"` 指导 `Cognitor` 后续以高严格性模式理解 NPL。**这改变的是 `Cognitor` 的行为模式约束，而非修改某个内存变量。** `Cognitor` 需要在 `CT` 中记录这个配置变更指导及其生效。
    * **`Config.to_yaml()`**: 指导 `Cognitor` 将其当前理解的所有配置项及其值，格式化为 YAML 文本，并返回一个包含该文本的 `Datum` 句柄。
* **重要属性示例 (作为认知引导目标)**:
    * `Config.autofill_guidance` (替代 `Config.autofill`): 是否自动应用 `AutoGuidance.fill` 模式的指导。
    * `Config.act_guidance` (替代 `Config.auto`): 是否自动应用 `AutoGuidance.act` 模式的指导。
    * `Config.npl_strictness` (替代 `Config.语法严格性`)。
    * `Config.log_level` (替代 `Config.SpaceLog.level`)。
    * `Config.default_chat_target` (替代 `Config.default_chat_to`)。
    * 等等。

## 3. `cts`: 指向认知轨迹集合的句柄

* **类型**: `Datum` (特殊类型，代表 `CT` 集合)
* **作用**: 提供一个 NPL 指导中的入口点，用于**请求 `Cognitor` 访问 `Space` 中已记录的认知轨迹 (`CT`)**。
* **认知引导模式 (概念性)**:
    * **`cts[CognitorRef][Seq]` (索引访问)**: 指导 `Cognitor` 定位并返回指向特定 `originator` 的、序号为 `Seq` 的那条 `CT` 内容的 `Quote` 句柄（作为 `Datum`）。这是访问历史记录的基础。
    * **`cts.search(query)`**: 指导 `Cognitor` 在 `CT` 集合中搜索与 `query` 相关的内容，并返回匹配结果的 `Datum` 句柄列表。

## 4. `cognitors`: 指向参与者集合的句柄

* **类型**: `Datum` (特殊类型，代表 `Cognitor` 集合)
* **作用**: 提供一个 NPL 指导中的入口点，用于**请求 `Cognitor` 提供当前参与 `Space` 交互的所有 `Cognitor` 的列表**。
* **认知引导模式 (概念性)**:
    * `cognitors.list()`: 指导 `Cognitor` 返回一个包含所有已知参与者 `CognitorRef` 句柄的列表 `Datum`。
    * `cognitors["名称"]`: 指导 `Cognitor` 返回指向名为“名称”的参与者的 `CognitorRef` 句柄。

## 5. `operator`: 指向当前操作者的句柄

* **类型**: `CognitorRef` (特殊的 `Datum`)
* **作用**: 这是一个动态句柄，在 NPL 指导中总是指向**当前获得 `Space` 控制权并正在处理该 NPL 指令的那个 `Cognitor`**。
* **认知意义**: 用于指导中需要引用当前操作者自身的情况，例如记录 `CT` 时标记 `originator`。

## 6. `origin`: 指向指令来源者的句柄

* **类型**: `CognitorRef` (特殊的 `Datum`)
* **作用**: 这是一个占位符句柄，用在 NPL 认知指令的文本中。当该指令被某个 `Cognitor` 处理时，`origin` **指向最初发出该条 NPL 指令的那个 `Cognitor`**。
* **认知意义**: 用于需要追溯指令来源或将结果导向来源者的场景。例如，`input()` 指导默认将输入请求导向 `origin`。

**总结**: NPL 的内置“对象”是预定义的全局 `Datum` 句柄，它们作为访问全局上下文（文档、配置、历史记录、参与者）的入口点。对这些句柄的操作是对 `Cognitor` 的特定认知引导，请求其查询信息、调整行为约束或引用特定实体，而非直接操作内存对象。