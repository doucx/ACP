# NPL 内置“对象”：全局上下文与配置的认知指令句柄

**重要前提**: 本文档描述的 NPL 内置“对象”（如 `Doc`, `Config`, `cts` 等）**不是**运行时实例化的对象。它们是 NPL 语言层面预定义的、全局可用的 **`Datum` 句柄**。这些句柄在 NPL 认知指令 (`CD`) 的 `Representamen` 中使用时，作为**访问特定全局信息、配置或上下文状态 (`Object`) 的入口点**。对这些句柄应用的点操作符（`.`）构成了特定的**认知指令 (`CD`) 模式**，用于指导 `Cognitor` 如何查询或影响这些全局概念。

## 1. `Doc`: 指向 ACP 文档集合 (`Object`) 的句柄

* **类型**: `Datum` 句柄 (指向文档集合概念)
* **作用**: 在 NPL `CD` 中提供访问当前 ACP 协议文档内容的入口。
* **认知指令模式 (概念性)**:
    * `Doc["文档路径/名称"]` (索引访问 `CD`): 指导 `Cognitor` 定位特定文档 `Sign`，并返回引用该文档内容的 `Datum` 句柄。
    * `Doc.search("关键词")` (`CD`): 指导 `Cognitor` 在文档集合 `Object` 中搜索信息，返回相关 `Sign` 的 `Datum` 句柄列表。请求 `Cognitor` 应用信息检索能力。

## 2. `Config`: 指向 `Space` 配置状态 (`Object`) 的句柄

* **类型**: `Datum` 句柄 (指向配置状态概念)
* **作用**: 在 NPL `CD` 中提供查询或调整 `Cognitor` 处理当前 `Space` 时应遵循的行为配置或约束 (`Object`) 的入口。
* **认知指令模式**:
    * `Config.属性名` (属性访问 `CD`): 指导 `Cognitor` 返回其内部关于 `属性名` 配置项当前值的 `Sign` (通过 `Datum` 句柄)。
    * `Config.属性名 = 值` (赋值 `CD`): **指导 `Cognitor` 更新其内部关于 `属性名` 配置的约束状态**。从此刻起，在处理后续交互时，`Cognitor` 应遵循这个新的约束。**这改变的是 `Cognitor` 的内部行为约束 (`Constraint`)，而非内存变量**。`Cognitor` **必须**在 `CT` 中记录此配置变更指导及其生效。
    * `Config.to_yaml()` (`CD`): 指导 `Cognitor` 将其当前理解的所有配置项及其值，格式化为 YAML 文本 `Sign`，并返回其 `Datum` 句柄。
* **重要配置项示例 (作为 `CD` 操作的目标 `Object`)**:
    * `Config.autofill_guidance` (控制是否默认应用 `AutoGuidance.fill` 指导)
    * `Config.act_guidance` (控制是否默认应用 `AutoGuidance.act` 指导)
    * `Config.npl_strictness` (NPL 解释严格度约束)
    * `Config.log_level` (控制 `SpaceLog` 指导生成的 `CT` 级别)
    * `Config.default_chat_target` (默认 `chat` 指令的目标 `Cognitor`)

## 3. `cts`: 指向认知轨迹集合 (`Object`) 的句柄

* **类型**: `Datum` 句柄 (指向 `CT` 集合概念)
* **作用**: 在 NPL `CD` 中提供访问 `Space` 中已记录的认知轨迹 `Sign` (`CT Sign`) 的入口。
* **认知指令模式 (概念性)**:
    * `cts[CognitorRef][Seq]` (索引访问 `CD`): 指导 `Cognitor` 定位特定 `origin` 和 `seq` 的 `CT Sign`，并返回引用它的 `Quote` 句柄 (`Datum`)。
    * `cts.search(query)` (`CD`): 指导 `Cognitor` 在 `CT Sign` 集合中搜索相关内容，返回匹配 `CT Sign` 的 `Quote` 句柄列表。

## 4. `cognitors`: 指向参与者集合 (`Object`) 的句柄

* **类型**: `Datum` 句柄 (指向参与者集合概念)
* **作用**: 在 NPL `CD` 中提供访问当前参与 `Space` 交互的所有 `Cognitor` 信息的入口。
* **认知指令模式 (概念性)**:
    * `cognitors.list()` (`CD`): 指导 `Cognitor` 返回包含所有已知参与者 `CognitorRef` 句柄的列表 `Datum`。
    * `cognitors["名称"]` (`CD`): 指导 `Cognitor` 返回指向名为“名称”的参与者的 `CognitorRef` 句柄。

## 5. `operator`: 指向当前操作者 (`Cognitor`) 的句柄

* **类型**: `CognitorRef` (特殊的 `Datum` 句柄)
* **作用**: 在 NPL `CD` 的 `Representamen` 中，总是指向**当前持有 `Space` 控制权并正在处理该 `CD` 的那个 `Cognitor`**。
* **用途**: 用于 `CD` 中需要引用当前操作者自身的情况（如标记 `CT` 的 `origin`）。

## 6. `origin`: 指向指令来源者 (`Cognitor`) 的句柄

* **类型**: `CognitorRef` (特殊的 `Datum` 句柄)
* **作用**: 在 NPL `CD` 的 `Representamen` 中使用。当该 `CD` 被某个 `Cognitor` 处理时，`origin` 指向**最初发出该条 `CD Sign` 的那个 `Cognitor`**。
* **用途**: 用于需要追溯指令来源或将响应/结果导向来源者的 `CD` 模式中。

## 总结

NPL 内置“对象”是预定义的全局 `Datum` 句柄，它们在 NPL `CD` 中充当访问全局上下文信息或配置状态 (`Object`) 的入口点。对这些句柄的操作构成了特定的认知指令 (`CD`) 模式，指导 `Cognitor` 查询信息、调整其内部行为约束或引用特定实体。