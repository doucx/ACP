# **ACP (Abstract Cognition Protocol) 修改日志**

## 日志
注：修改日志由 0.2.0 开始记录，故此前版本的修改日志仅供参考。

### 0.0
### 0.0.x
*   **版本**: 0.0.x
*   **发布日期**: 2025-03-24
*   **描述:**

    NPL (Natural Pseudo Language) 0.0.x 是一个基于文本的人造语言，旨在实现跨载体的智能交互。它定义了一套规范，使得不同的认知实体（Cognitor，如 AI、人类或混合系统）能够通过 NPL 进行交流和协作，共同完成复杂的任务。

    **核心特性:**

    *   **跨载体兼容:** 允许 AI、人类或混合团队执行相同的 NPL 代码，执行过程记录在 Logs 中。
    *   **能力导向:** 不限定技术实现，只要求载体具备学习、推理、元认知三大核心能力。
    *   **过程可审计:** Logs 提供完整的执行溯源，支持调试和优化。
    *   **动态扩展:** 允许运行时切换载体（如从 AI 迁移到人类专家处理复杂步骤）。
    *   **Notion:** 不确定性实体。
    *   **Runtime:** 跨载体的一个类似Tracer的智能执行环境

    **主要模块:**

    *   **Cognitor:** 认知执行体。
    *   **Runtime:** NPL 语句的执行环境。
    *   **Fhrsk:** 构建在 Arena 上的人性化交互界面与系统管理员。
    *   **IO:** 标准输入输出与日志系统。
    *   **Notebook:** 交互式 NPL 运行环境。
    *   **Auto:** 自动完成各类任务的工具类。
    *   **Config:** 配置文件。

    **已知问题:**

    *   文档示例由于运行载体的不同，实际输出可能也不同，存在误导风险。
    *   日志可能存在简略或未正确标注的情况。

### 0.1
### 0.1.x
*   **版本**: 0.1.x
  *   **发布日期**: 2025-04-05
  **主要变更:**

  1.  **协议更名:**
      *   NPL作为人造语言已经不合适了，它现在应该是一种协议。名称从 `Natural Pseudo Language (NPL)` 更名为 `Notional Protocol Language (NPL)`（居然恰好缩写一样），更准确地反映了其设计理念，同时承载了一定的历史意义。

  2.  **核心对象方法:**
      *   `Forma` 类：新增 `to_notion()` 方法，用于将确定性实体转换为不确定性实体。
      *   `Notion` 类：
          *   改进 `fill()` 方法，增强了上下文填充能力。
          *   新增 `pick(num=1, ...)` 方法，用于提取多种可能性。
          *   新增 `to_module(log=True, rule=auto, ...)` 方法，用于将不确定性实体转换为确定性实体。

  3.  **Canvas 相关更新:**
      *   引入 `Canvas` 概念，作为交互式 NPL 运行环境，取代原来的`Tracer`。
      *   定义了 `Cell` 的基本结构，用于组织交互单元。
      *   增强了 `Fhrsk` 的交互能力，使其能够执行指令和理解上下文。

  4.  **标准输入输出:**
      *   改进了 `print()` 和 `input()` 函数，使其更适应 Canvas 环境。
      *   `input()` 支持 `hint` 参数，用于提供输入提示。
      *   `input()` 返回值支持链式调用。

  5.  **`Auto` 类改进:**
      *   增强了 `autodef()` 方法，支持从更多来源自动定义对象。
      *   改进了 `autofill()` 方法，使其能够更智能地填充对象内容。
      *   新增 `autolet()` 方法，用于自动约束对象属性。

  **影响:**

  *   与 NPL 0.0.x 版本**不兼容**。

  **迁移指南:**

  *   更新所有文档、示例代码以及 Arena 实现。
  *   重新审视代码中对核心对象方法的使用方式，并根据新定义进行调整。

### 0.2
#### 0.2.0
*   **版本**: 0.2.0
  *   **发布日期**: 2025-04-08
  *   **主要变更:**
      *   协议名称从 `Notional Protocol Language (NPL)` 更名为 `Abstract Cognition Protocol (ACP)` 更准确地反映了其设计理念。
      *   核心概念 `Notion` 被重新定义为 `Uncertainty`，用于表示可添加约束的不确定性状态。
      *   实验：引入 `LingUnit` 类，专门用于处理自然语言的不确定性。
      *   修改了核心对象方法，为 Uncertainty 添加了约束方法。
  *   **影响:**
      *   与 NPL 0.1.x 版本**不兼容**。
      *   需要更新所有文档、示例代码以及 Arena 实现。
  *   **迁移指南:**（概要）
      *   将所有 "Notion" 替换为 "Uncertainty"。
      *   将所有 "NPL" 替换为 "ACP"。
      *   重新审视代码中对 `Notion` 的使用方式，并根据 `Uncertainty` 的新定义进行调整。
      *   考虑使用 `LingUnit` 来处理自然语言相关的任务。
  *   **已知问题:**
      *   尚无

### 0.3
#### 0.3.0
*   **版本**: 0.3.0
  *   **发布日期**: 2025-04-10
  *   **主要变更:**
      *   路径变化，从原来的扁平路径改成现在的文件夹布局。
      *   核心概念 `Runtime` 被重新定义为 `Arena`，用于减少“ACP是一种运行在计算机上的协议”的误解。
      *    将 NPL（Natural Pseudo Language）作为作为一种认知指令的实现方式，添加了回来，考虑到了一定的历史意义。
      *    将 Canvas 的概念作为一种 ACP Textual 的实现方式。
	  *    将 Tracer 的概念加回来，作为另一种简单的 ACP Textual 的实现方式。可能有助于LLM利用大量的Tracer示例进行迁移。
	  *    实验证明不需要LingUnit类。
	  *    将核心协议中的面向对象改为本体结构，并在NPL中重新使用面向对象来模拟面向对象语言。

  *   **影响:**
      *   需要更新所有文档、示例代码。
      *   需要重新进行协议布局规划。
  *   **迁移指南:**（概要）
      *   将所有 `Runtime` 替换为 `Arena`。
      *   将协议文档解耦。
  *   **已知问题:**
      *   示例可能不全。

#### 0.3.2

*   **发布日期**:  2025 年 4 月 11 日

*   **主要变更:**

1.  **引入 ArenaLog 区域**:
    *   在 `<Canvas>` 节点中新增 `<ArenaLog>` 区域，用于记录 Arena 自身在处理交互流程时的元操作，例如路由决策、信息推断和状态管理。
    *   `<ArenaLog>` 的目标是提升 ACP 交互的透明度，帮助开发者理解 Arena 的决策过程，并方便调试和扩展。

2.  **简化 Fhrsk 交互模式**:
    *   修改 Fhrsk 回复 Cell 的 `originator` 为 `Fhrsk`，更清晰地标识其实现方式。
    *   去除 Fhrsk 回复 Cell 中嵌套的 `<Fhrsk>` 子节点，将回复内容直接合并到 `OUTPUT` Cell 的 `<value>` 中，简化了 XML 结构。

3.  **增强的节点定义规范**:
    *   文档使用 “增强的结构化自然语言 + 严格模板” 方法来定义 `<Canvas>` 和 `<Cell>` 等核心节点的结构和行为。
    *   新的定义方式侧重于可读性、描述性和引导性，旨在帮助 Cognitor (特别是 LLM) 更好地理解节点的作用、包含的信息规范，以及在模拟执行时需要遵循的原则。

*   **影响:**

*   与 ACP 0.3.1 版本的 Canvas 格式**不兼容**。需要更新现有的 Canvas 示例和相关处理逻辑以适应新的结构。

*   **迁移指南:**

*   将所有 Canvas 示例更新为包含 `<ArenaLog>` 区域，并在其中记录 Arena 的路由决策、信息推断等操作。
*   修改 Fhrsk 相关 Cell 的 `originator` 为 `Fhrsk`，并去除内部的 `<Fhrsk>` 节点。
*   参考文档中更新后的节点定义，确保 Cognitor (特别是 LLM) 能够正确理解新 Canvas 结构的语义。

*   **示例:**

*   更新了 `70_Examples/canvas` 目录下的示例，展示了 `<ArenaLog>` 的使用方法和 Fhrsk 的新交互模式。请参考这些示例进行迁移。

### 0.4
#### 0.4.0
*   **版本**: 0.4.0 beta 2
  *   **发布日期**: 2025-04-13
  *   **主要变更:**
		* 将 Canvas 中的 Cell 改为 Node ，更有助于协作的概念
		* 完善语言在ACP中的地位，并修复 Textural Arena 协议
  *   **影响:**
      *   需要更新所有文档、示例代码。
      *   需要重新进行协议布局规划。
  *   **迁移指南:**（概要）
      *   将所有 `Cell` 替换为 `Node`。
  *   **已知问题:**
      *   Tracer 实现不全：我要基于 NPL 实现 Tracer
      *   日志结构不清晰
      *   Canvas 基于文档模拟，未接入 NPL ，可能对后续重构有不良影响
      *   meta 指令作用不清晰
      *   并未明确 “生成” 与 `ArenaContext` 的关系
  *  **重点**
	  *   填充各层层级，从“模拟”转为“实现”。